webpackJsonp([18],{1061:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(946),l=a.n(n);e.default={components:{SupplyComponent:l.a}}},1431:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ts-section",[a("div",{slot:"menu"},[a("router-link",{attrs:{to:"supplyAdd",exact:""}},[a("ts-button",{attrs:{type:"primary"}},[t._v("发布供应")])],1)],1),t._v(" "),a("supply-component")],1)},staticRenderFns:[]}},892:function(t,e,a){var n=a(1)(a(1061),a(1431),null,null);t.exports=n.exports},919:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(105),l=a.n(n),s=a(63),o=a.n(s),i=a(30),p=a.n(i),r=a(29),c=a.n(r),u=a(28),d=a(47),A=a(220);e.default={data:function(){return{DICT:{SupplyType:A.a.SupplyType,StockUnits:A.a.StockUnits,SupplyStatus:A.a.SupplyStatus,SupplyShapes:A.a.SupplyShapes,userType:A.a.userType},Params:{supplyTypes:null,supplyStatus:null,supplyShapes:null,pageSize:10,pageNo:1},ParamsFavList:{pageNo:"1",pageSize:"10",productId:""},ConfirmDialog:{noShowDialog:!1,show:!1,id:[]},Collect:{show:!1,productItem:{},data:{}},Cookie:{key:"showDelSupplyDialog",value:1,day:7},companySupplyList:{},count:{countSale:"",countSaleOff:""},chooseItem:[],Filter:{supplyStatus:null,supplyShapes:null,supplyTypes:null}}},created:function(){var t=this;return c()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==t.userInfo.userType){e.next=8;break}return e.next=3,a.i(u.W)(t.Params);case 3:return t.companySupplyList=e.sent.data.data,e.next=6,a.i(u.X)();case 6:t.count=e.sent.data.data,t.cookie.get(t.Cookie.key)||t.cookie.set(t.Cookie.key,t.Cookie.value,t.Cookie.day,"/");case 8:case"end":return e.stop()}},e,t)}))()},computed:o()({},a.i(d.a)(["dicTree","userInfo"]),{getToTal:function(){return this.count.countSale+this.count.countSaleOff}}),watch:{"Collect.data.list":{handler:function(t){var e=this;t&&t.forEach(function(t){t.DATE=e.filterDate(t.favDate,"date"),t.PURCHASETYPE=e.filterDict(t.userType,A.a.userType)})},deep:!0}},methods:{handleCollect:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.Collect.show=!e.Collect.show,!e.Collect.show){n.next=6;break}return e.Collect.productItem=t,n.next=5,a.i(u.Y)({id:t.id,pageSize:e.ParamsFavList.pageSize,pageNo:e.ParamsFavList.pageNo});case 5:e.Collect.data=n.sent.data.data;case 6:case"end":return n.stop()}},n,e)}))()},handleChangeCurrent:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.Params.pageNo=t,n.next=3,a.i(u.W)(e.Params);case 3:e.companySupplyList=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleChangePageSize:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.Params.pageSize=t,n.next=3,a.i(u.W)(e.Params);case 3:e.companySupplyList=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleChangeFavListCurrent:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.ParamsFavList.current=t,n.next=3,a.i(u.Y)(e.ParamsFavList);case 3:e.Collect.data=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleChangeFavListPageSize:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.ParamsFavList.pageSize=t,n.next=3,a.i(u.Y)(e.ParamsFavList);case 3:e.Collect.data=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleFilterSupplyStatus:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.Params=l()({},e.Params,{supplyStatus:t,pageNo:1}),n.next=3,a.i(u.W)(e.Params);case 3:e.companySupplyList=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleFilterSupplyTypes:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.Params=l()({},e.Params,{supplyTypes:t,pageNo:1}),n.next=3,a.i(u.W)(e.Params);case 3:e.companySupplyList=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleFilterSupplyShapes:function(t){var e=this;return c()(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.Params=l()({},e.Params,{supplyShapes:t,pageNo:1}),n.next=3,a.i(u.W)(e.Params);case 3:e.companySupplyList=n.sent.data.data;case 4:case"end":return n.stop()}},n,e)}))()},handleShowDialog:function(t){var e=this;return c()(p.a.mark(function a(){return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.ConfirmDialog.id=t,"1"===e.cookie.get(e.Cookie.key)?e.ConfirmDialog.show=!0:e.handleCloseSupply();case 2:case"end":return a.stop()}},a,e)}))()},handleCancelDelSupply:function(){this.ConfirmDialog.show=!1,this.cookie.set(this.Cookie.key,this.Cookie.value,this.Cookie.day,"/")},handleCloseSupply:function(){var t=this;return c()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(u.Z)({ids:t.ConfirmDialog.id.toString()});case 2:return e.next=4,a.i(u.W)(t.Params);case 4:t.companySupplyList=e.sent.data.data,t.ConfirmDialog.show=!1,t.chooseItem=[];case 7:case"end":return e.stop()}},e,t)}))()},handleNoShowDialog:function(t){this.cookie.set(this.Cookie.key,t,this.Cookie.day,"/")}}}},923:function(t,e,a){e=t.exports=a(830)(),e.push([t.i,".supply-filter[data-v-29bcbcee]{margin-bottom:23px}.supply-dialog p[data-v-29bcbcee]{text-align:center}.supply-dialog--title[data-v-29bcbcee]{font-size:18px;font-weight:500;margin-bottom:10px}.supply-dialog--tip[data-v-29bcbcee]{font-size:14px}.supply-dialog--tip i[data-v-29bcbcee]{font-size:smaller;color:#3f3f3f}.supply-collect-dialog-footer[data-v-29bcbcee]{margin-top:10px}.supply-collect-dialog--title[data-v-29bcbcee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:-moz-box;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;-moz-box-align:end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;-moz-box-pack:justify;justify-content:space-between;padding-bottom:10px}.supply-collect-dialog--title strong[data-v-29bcbcee]{margin-right:10px}.supply-collect-dialog--title .ts-image[data-v-29bcbcee]{margin:0 10px 0 20px;position:relative}.supply-wrapper[data-v-29bcbcee]{padding:15px}.supply-footer[data-v-29bcbcee]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:-moz-box;display:flex;padding-top:10px}.supply-footer--pagation[data-v-29bcbcee]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;-moz-box-flex:1;flex:1;text-align:right}.supply-table--link[data-v-29bcbcee]{display:block}.supply-table--avatar[data-v-29bcbcee]{text-align:left}.supply-table--collect[data-v-29bcbcee]{cursor:pointer;color:#4c93fd}.supply-table--collect[data-v-29bcbcee]:hover{color:blue}","",{version:3,sources:["/Users/hezhicheng/ts57_PC/src/pages/shopManager/children/supply/supplyIndex.vue"],names:[],mappings:"AACA,gCACI,kBAAoB,CACvB,AACD,kCACI,iBAAmB,CACtB,AACD,uCACI,eAAgB,AAChB,gBAAiB,AACjB,kBAAoB,CACvB,AACD,qCACI,cAAgB,CACnB,AACD,uCACI,kBAAmB,AACnB,aAAe,CAClB,AAED,+CACI,eAAiB,CACpB,AACD,+CACI,oBAAqB,AACrB,qBAAsB,AACtB,oBAAqB,AACrB,iBAAkB,AAClB,aAAc,AACd,sBAAuB,AACvB,6BAA8B,AAC1B,mBAAoB,AACb,mBAAoB,AACvB,qBAAsB,AAC9B,yBAA0B,AAC1B,sCAAuC,AACnC,sBAAuB,AAChB,sBAAuB,AAC1B,8BAA+B,AACvC,mBAAqB,CACxB,AACD,sDACI,iBAAmB,CACtB,AACD,yDACI,qBAAqB,AACrB,iBAAmB,CACtB,AACD,iCACI,YAAc,CACjB,AACD,gCACI,oBAAqB,AACrB,qBAAsB,AACtB,oBAAqB,AACrB,iBAAkB,AAClB,aAAc,AACd,gBAAkB,CACrB,AACD,0CACI,mBAAmB,AACnB,eAAe,AACX,WAAW,AACJ,gBAAgB,AACnB,OAAO,AACf,gBAAkB,CACrB,AAED,qCACI,aAAe,CAClB,AACD,uCACI,eAAiB,CACpB,AACD,wCACI,eAAgB,AAChB,aAAc,CACjB,AACD,8CACI,UAAY,CACf",file:"supplyIndex.vue",sourcesContent:["\n.supply-filter[data-v-29bcbcee]{\n    margin-bottom: 23px;\n}\n.supply-dialog p[data-v-29bcbcee]{\n    text-align: center;\n}\n.supply-dialog--title[data-v-29bcbcee]{\n    font-size: 18px;\n    font-weight: 500;\n    margin-bottom: 10px;\n}\n.supply-dialog--tip[data-v-29bcbcee]{\n    font-size: 14px;\n}\n.supply-dialog--tip i[data-v-29bcbcee]{\n    font-size: smaller;\n    color: #3F3F3F;\n}\n.supply-collect-dialog[data-v-29bcbcee]{}\n.supply-collect-dialog-footer[data-v-29bcbcee]{\n    margin-top: 10px;\n}\n.supply-collect-dialog--title[data-v-29bcbcee]{\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: -moz-box;\n    display: flex;\n    -webkit-box-align: end;\n    -webkit-align-items: flex-end;\n        -ms-flex-align: end;\n               -moz-box-align: end;\n            align-items: flex-end;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n        -ms-flex-pack: justify;\n               -moz-box-pack: justify;\n            justify-content: space-between;\n    padding-bottom: 10px;\n}\n.supply-collect-dialog--title strong[data-v-29bcbcee]{\n    margin-right: 10px;\n}\n.supply-collect-dialog--title .ts-image[data-v-29bcbcee]{\n    margin:0 10px 0 20px;\n    position: relative;\n}\n.supply-wrapper[data-v-29bcbcee]{\n    padding: 15px;\n}\n.supply-footer[data-v-29bcbcee]{\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: -moz-box;\n    display: flex;\n    padding-top: 10px;\n}\n.supply-footer--pagation[data-v-29bcbcee]{\n    -webkit-box-flex:1;\n    -webkit-flex:1;\n        -ms-flex:1;\n               -moz-box-flex:1;\n            flex:1;\n    text-align: right;\n}\n.supply-table[data-v-29bcbcee]{}\n.supply-table--link[data-v-29bcbcee]{\n    display: block;\n}\n.supply-table--avatar[data-v-29bcbcee]{\n    text-align: left;\n}\n.supply-table--collect[data-v-29bcbcee]{\n    cursor: pointer;\n    color:#4C93FD;\n}\n.supply-table--collect[data-v-29bcbcee]:hover{\n    color: blue;\n}\n"],sourceRoot:""}])},932:function(t,e,a){var n=a(923);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(831)("45494618",n,!0)},946:function(t,e,a){a(932);var n=a(1)(a(919),a(948),"data-v-29bcbcee",null);t.exports=n.exports},948:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"supply-wrapper"},[a("div",{staticClass:"supply-filter"},[a("ts-filter",{attrs:{title:"分类"}},[a("ts-radio-group",{on:{change:t.handleFilterSupplyStatus},model:{value:t.Filter.supplyStatus,callback:function(e){t.Filter.supplyStatus=e},expression:"Filter.supplyStatus"}},[a("ts-radio",{attrs:{label:null}},[t._v("全部("+t._s(t.getToTal)+")")]),t._v(" "),t._l(t.DICT.SupplyStatus,function(e){return a("ts-radio",{key:e.dicValue,attrs:{label:e.dicValue}},[1===e.dicValue?a("span",[t._v(t._s(e.label)+"("+t._s(t.count.countSale)+")")]):t._e(),t._v(" "),2===e.dicValue?a("span",[t._v(t._s(e.label)+"("+t._s(t.count.countSaleOff)+")")]):t._e()])})],2)],1),t._v(" "),a("ts-filter",{attrs:{title:"面料种类"}},[a("ts-radio-group",{on:{change:t.handleFilterSupplyTypes},model:{value:t.Filter.supplyTypes,callback:function(e){t.Filter.supplyTypes=e},expression:"Filter.supplyTypes"}},[a("ts-radio",{attrs:{label:null}},[t._v("全部")]),t._v(" "),t._l(t.dicTree.PRODUCT_TYPE,function(e){return a("ts-radio",{key:e.dicValue,attrs:{label:e.dicValue}},[t._v(t._s(e.name))])})],2)],1),t._v(" "),a("ts-filter",{attrs:{title:"供货方式"}},[a("ts-radio-group",{on:{change:t.handleFilterSupplyShapes},model:{value:t.Filter.supplyShapes,callback:function(e){t.Filter.supplyShapes=e},expression:"Filter.supplyShapes"}},[a("ts-radio",{attrs:{label:null}},[t._v("全部")]),t._v(" "),t._l(t.dicTree.PRODUCT_SHAPE,function(e){return a("ts-radio",{key:e.dicValue,attrs:{label:e.dicValue}},[t._v(t._s(e.name))])})],2)],1)],1),t._v(" "),a("div",{staticClass:"supply-table"},[a("ts-menu",{attrs:{prop:t.companySupplyList.list}},[a("ts-checkbox-group",{model:{value:t.chooseItem,callback:function(e){t.chooseItem=e},expression:"chooseItem"}},t._l(t.companySupplyList.list,function(e){return a("ts-menu-table",{key:e.id},[a("template",{slot:"header-left"},[1===t.Filter.supplyStatus?a("ts-checkbox",{attrs:{label:e.id}},[t._v("\n              面料-"+t._s(t._f("filterDict")(e.supplyShape,t.dicTree.PRODUCT_SHAPE,"name"))+"\n            ")]):a("span",[t._v("\n              面料-"+t._s(t._f("filterDict")(e.supplyShape,t.dicTree.PRODUCT_SHAPE,"name"))+"\n            ")])],1),t._v(" "),a("template",{slot:"header-right"},[t._v("\n            状态："),a("b",[t._v(t._s(t._f("filterDict")(e.supplyStatus,t.DICT.SupplyStatus)))])]),t._v(" "),a("ts-menu-table-item",{staticClass:"supply-table--avatar",attrs:{width:"30%"}},[a("ts-image",{attrs:{width:"80",height:"80",src:e.productPicUrl}})],1),t._v(" "),a("ts-menu-table-item",{attrs:{width:"30%"}},[a("p",[t._v(t._s(e.supplyDesc))])]),t._v(" "),a("ts-menu-table-item",{attrs:{width:"15%"}},[t._v("\n            供应："+t._s(e.supplyNum)+t._s(t._f("filterDict")(e.supplyUnit,t.DICT.StockUnits))+"\n          ")]),t._v(" "),a("ts-menu-table-item",[t._v("\n            收藏次数："),a("span",{staticClass:"supply-table--collect",on:{click:function(a){if(a.target!==a.currentTarget)return null;t.handleCollect(e)}}},[t._v(t._s(e.favoriteCount))])]),t._v(" "),a("ts-menu-table-item",[1===e.supplyStatus?a("a",{staticClass:"supply-table--link",on:{click:function(a){t.handleShowDialog(e.id)}}},[t._v("关闭")]):t._e()])],2)}))],1)],1),t._v(" "),a("div",{staticClass:"supply-footer"},[a("ts-button",{attrs:{type:"primary",disabled:t.chooseItem.length<=0},on:{click:function(e){t.handleShowDialog(t.chooseItem)}}},[t._v("关闭")]),t._v(" "),a("ts-pagination",{staticClass:"supply-footer--pagation",attrs:{current:t.companySupplyList.pageNO,total:t.companySupplyList.totalPage},on:{change:t.handleChangeCurrent,"page-size-change":t.handleChangePageSize}})],1),t._v(" "),a("ts-dialog",{staticClass:"supply-dialog",attrs:{width:"30%",title:"提示"},on:{confirm:t.handleCloseSupply,cancel:t.handleCancelDelSupply},model:{value:t.ConfirmDialog.show,callback:function(e){t.ConfirmDialog.show=e},expression:"ConfirmDialog.show"}},[a("p",{staticClass:"supply-dialog--title"},[t._v("确认关闭选中供应信息？")]),t._v(" "),a("p",[a("ts-radio",{attrs:{type:"origin",label:"0"},nativeOn:{change:function(e){t.handleNoShowDialog(e)}},model:{value:t.ConfirmDialog.noShowDialog,callback:function(e){t.ConfirmDialog.noShowDialog=e},expression:"ConfirmDialog.noShowDialog"}},[a("span",{staticClass:"supply-dialog--tip"},[t._v("不再提示"),a("i",[t._v("(关闭后相关供应信息将不再显示)")])])])],1)]),t._v(" "),a("ts-dialog",{staticClass:"supply-dialog",attrs:{width:"80%"},on:{confirm:function(e){t.Collect.show=!1}},model:{value:t.Collect.show,callback:function(e){t.Collect.show=e},expression:"Collect.show"}},[a("div",{staticClass:"supply-collect-dialog--title",slot:"title"},[a("div",{staticClass:"left"},[a("strong",[t._v("供应收藏记录")]),t._v(" "),a("ts-image",{staticStyle:{"vertical-align":"bottom"},attrs:{width:"72",canView:!1,height:"72",src:t.Collect.productItem.productPicUrl}}),t._v("\n        "+t._s(t.Collect.productItem.productNo)+" "+t._s(t._f("filterDict")(t.Collect.productItem.category,t.dicTree.PRODUCT_TYPE,"name"))+"\n      ")],1),t._v(" "),a("ts-button",{attrs:{type:"cancel"},on:{click:function(e){t.Collect.show=!t.Collect.show}}},[t._v("关闭")])],1),t._v(" "),a("ts-table",{attrs:{data:t.Collect.data.list}},[a("ts-column",{attrs:{"data-key":"userMobile",align:"center",name:"收藏人账号"},slot:"default"}),t._v(" "),a("ts-column",{attrs:{"data-key":"userName",align:"center",name:"姓名"},slot:"default"}),t._v(" "),a("ts-column",{attrs:{"data-key":"PURCHASETYPE",align:"center",name:"身份"},slot:"default"}),t._v(" "),a("ts-column",{attrs:{"data-key":"DATE",align:"center",name:"收藏时间"},slot:"default"})],1),t._v(" "),a("div",{staticClass:"supply-collect-dialog-footer supply-footer"},[a("span",[t._v("共"+t._s(t.Collect.data.totalNum)+"条收藏")]),t._v(" "),a("ts-pagination",{staticClass:"supply-footer--pagation",attrs:{current:t.Collect.data.pageNO,total:t.Collect.data.totalPage},on:{change:t.handleChangeFavListCurrent,"page-size-change":t.handleChangeFavListPageSize}})],1),t._v(" "),a("div",{slot:"footer"})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=18.6a550294e6f13935d7c7.js.map