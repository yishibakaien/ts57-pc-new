webpackJsonp([25],{1062:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e(63),p=e.n(a),i=e(30),r=e.n(i),o=e(105),s=e.n(o),l=e(29),u=e.n(l),d=e(155),c=e.n(d),y=e(220),m=e(219),h=e(28),f=e(106),C=e(47);t.default={data:function(){return{loading:!1,DICT:{SupplyShapes:y.a.SupplyShapes,StockUnits:y.a.StockUnits,SupplyType:y.a.SupplyType,isStock:y.a.isStock},rules:{supplyType:[{required:!0,message:"请选择花边分类"}],supplyNum:[{pattern:/^[0-9]*[1-9][0-9]*$/,message:"请输入正确的供应数量"}],supplyShapes:[{required:!0,message:"请选择大货类型"}],supplyDesc:[{required:!0,message:"请输入供应说明（最多50个字）"},{min:1,max:50,message:"请输入1-50个字"}],productPicUrl:[{required:!0,trigger:"change",message:"请上传花型图片"}]},Pic:{show:!1,text:"添加图片"},CopyDICTUnit:[],addSupplyForm:{supplyType:"",supplyUnit:"",supplyShapes:"",supplyNum:"",supplyDesc:"",productPicUrl:""}}},watch:{addSupplyForm:{handler:function(n,t){n.productPicUrl&&(this.Pic.text=n.productPicUrl?"修改图片":"添加图片",this.Pic.show=!!n.productPicUrl),"100013"!==n.supplyType?this.CopyDICTUnit=this.CopyDICTUnit.filter(function(n){return"400012"!==n.dicValue}):"200010"===n.supplyShapes?this.CopyDICTUnit=this.CopyDICTUnit.filter(function(n){return"400011"===n.dicValue}):this.CopyDICTUnit=JSON.parse(c()(this.dicTree.PRODUCT_UNIT)),"200010"===n.supplyShapes?this.CopyDICTUnit=this.CopyDICTUnit.filter(function(n){return"400011"===n.dicValue}):"100013"===n.supplyType?this.CopyDICTUnit=this.dicTree.PRODUCT_UNIT:this.CopyDICTUnit=this.dicTree.PRODUCT_UNIT.filter(function(n){return"400012"!==n.dicValue}),n.stockUnit=this.CopyDICTUnit[0].dicValue},deep:!0}},created:function(){var n=this;return u()(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.CopyDICTUnit=n.dicTree.PRODUCT_UNIT.filter(function(n){return"400012"!==n.dicValue}),n.$route.query.id||(n.addSupplyForm=s()({},n.addSupplyForm,{supplyUnit:n.CopyDICTUnit[0].dicValue}));case 2:case"end":return t.stop()}},t,n)}))()},components:{aliUpload:m.g},computed:p()({},e.i(C.a)(["dicTree"]),{title:function(){return this.$route.query.id?"修改供应":"发布供应"}}),methods:{handleSelect:function(){var n=this;this.$nextTick(function(){n.addSupplyForm.supplyUnit=n.CopyDICTUnit[0].dicValue})},handleUpload:function(){this.loading=!0},uploadImg:function(n){this.loading=!1,this.addSupplyForm.productPicUrl=f.b+n[0].storeAs},submitForm:function(n){var t=this;this.$refs[n].validate(function(){var n=u()(r.a.mark(function n(a){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=7;break}return n.next=3,e.i(h.s)(t.addSupplyForm);case 3:return n.next=5,t.$router.go(-1);case 5:n.next=8;break;case 7:return n.abrupt("return",!1);case 8:case"end":return n.stop()}},n,t)}));return function(t){return n.apply(this,arguments)}}())}}}},1174:function(n,t,e){t=n.exports=e(830)(),t.push([n.i,".add-upload-button[data-v-c800e7f2]{color:#4c93fd;height:38px;line-height:38px;cursor:pointer;-webkit-transition:.5s;-o-transition:.5s;-moz-transition:.5s;transition:.5s;position:relative}.add-upload-button[data-v-c800e7f2]:hover{color:#105bca}","",{version:3,sources:["/Users/hezhicheng/ts57_PC/src/pages/shopManager/children/supply/add.vue"],names:[],mappings:"AA0MA,oCACI,cAAe,AACf,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,uBAAwB,AACxB,kBAAmB,AACnB,oBAAqB,AACrB,eAAgB,AAChB,iBAAkB,CACrB,AACD,0CACI,aAAc,CACjB",file:"add.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*添加图片按钮*/\n.add-upload[data-v-c800e7f2] {}\n.add-upload-button[data-v-c800e7f2] {\n    color: #4C93FD;\n    height: 38px;\n    line-height: 38px;\n    cursor: pointer;\n    -webkit-transition: .5s;\n    -o-transition: .5s;\n    -moz-transition: .5s;\n    transition: .5s;\n    position: relative\n}\n.add-upload-button[data-v-c800e7f2]:hover {\n    color: #105bca\n}\n"],sourceRoot:""}])},1285:function(n,t,e){var a=e(1174);"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e(831)("0c81b564",a,!0)},1434:function(n,t){n.exports={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ts-section",{attrs:{pageTitle:n.title}},[e("ts-form",{ref:"addSupplyForm",attrs:{model:n.addSupplyForm,rules:n.rules,"label-width":"125px","label-position":"left"}},[e("ts-form-item",{directives:[{name:"loading",rawName:"v-loading.body",value:n.loading,expression:"loading",modifiers:{body:!0}}],attrs:{label:"花型图片：","element-loading-text":"正在上传中",prop:"productPicUrl"}},[e("ts-image",{directives:[{name:"show",rawName:"v-show",value:n.Pic.show,expression:"Pic.show"}],attrs:{width:"200",height:"200",src:n.addSupplyForm.productPicUrl,type:"local"}}),n._v(" "),e("label",{staticClass:"add-upload-button"},[n._v("\n          "+n._s(n.Pic.text)+"\n          "),e("aliUpload",{attrs:{fileType:"3",id:"addPic"},on:{begin:n.handleUpload,doUpload:n.uploadImg}})],1)],1),n._v(" "),e("ts-form-item",{attrs:{label:"花型分类：",prop:"supplyType"}},[e("ts-radio-group",{attrs:{bordered:""},model:{value:n.addSupplyForm.supplyType,callback:function(t){n.addSupplyForm.supplyType=t},expression:"addSupplyForm.supplyType"}},n._l(n.dicTree.PRODUCT_TYPE,function(t){return e("ts-radio",{key:t.dicValue,attrs:{label:t.dicValue},nativeOn:{change:function(t){n.handleSelect(t)}}},[n._v(n._s(t.name))])}))],1),n._v(" "),e("ts-form-item",{attrs:{label:"大货类型：",prop:"supplyShapes"}},[e("ts-radio-group",{attrs:{bordered:""},model:{value:n.addSupplyForm.supplyShapes,callback:function(t){n.addSupplyForm.supplyShapes=t},expression:"addSupplyForm.supplyShapes"}},n._l(n.dicTree.PRODUCT_SHAPE,function(t){return e("ts-radio",{key:t.dicValue,attrs:{label:t.dicValue},nativeOn:{change:function(t){n.handleSelect(t)}}},[n._v(n._s(t.name))])}))],1),n._v(" "),e("ts-form-item",{attrs:{label:"供应数量：",prop:"supplyNum"}},[e("ts-input",{staticStyle:{width:"320px"},attrs:{maxlength:9},model:{value:n.addSupplyForm.supplyNum,callback:function(t){n.addSupplyForm.supplyNum=t},expression:"addSupplyForm.supplyNum"}}),n._v(" "),e("ts-select",{staticStyle:{width:"12%"},attrs:{"data-key-name":"name","data-val-name":"dicValue",options:n.CopyDICTUnit},model:{value:n.addSupplyForm.supplyUnit,callback:function(t){n.addSupplyForm.supplyUnit=t},expression:"addSupplyForm.supplyUnit"}})],1),n._v(" "),e("ts-form-item",{attrs:{label:"供应说明：",prop:"supplyDesc"}},[e("ts-input",{attrs:{type:"textarea",rows:4,maxlength:50,placeholder:"请输入供应说明"},model:{value:n.addSupplyForm.supplyDesc,callback:function(t){n.addSupplyForm.supplyDesc=t},expression:"addSupplyForm.supplyDesc"}})],1)],1),n._v(" "),e("div",{slot:"footer"},[e("ts-button",{staticClass:"add-bottom-button",attrs:{type:"primary"},on:{click:function(t){n.submitForm("addSupplyForm")}}},[n._v(n._s(n.title))]),n._v(" "),e("ts-button",{attrs:{type:"cancel"},on:{click:function(t){n.$router.go(-1)}}},[n._v("取消")])],1)],1)},staticRenderFns:[]}},893:function(n,t,e){e(1285);var a=e(1)(e(1062),e(1434),"data-v-c800e7f2",null);n.exports=a.exports}});
//# sourceMappingURL=25.0a106b28b1c3c97d057e.js.map